<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title></title>
<style type="text/css">
html,body{width:100%; height:100%; margin: 0 auto; overscroll-behavior: none;}
.canvas{background: black;}
</style>
</head>
<body>

<canvas class="canvas"></canvas>
<script type="text/javascript">



var canvas = document.querySelector('.canvas');
var ctx = canvas.getContext('2d');

  window.addEventListener('resize', resizeCanvas, false);

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resizeCanvas();

canvas.addEventListener('touchstart',touchH,false);
canvas.addEventListener('touchend',touch_endH,false);
var pad_left_x = 20;
var pad_left_y = canvas.height-90;
var pad_right_x = 100;
var pad_right_y = canvas.height-90;
var pad_up_x = 60;
var pad_up_y = canvas.height-130;
var pad_down_x = 60;
var pad_down_y = canvas.height-50;
var touch_left = false;
var touch_right = false;
var touch_up = false;
var touch_down = false;
var touch_x;
var touch_y;
function touchH(e){
  e.preventDefault();
  touch_x = e.touches[0].clientX;
  touch_y = e.touches[0].clientY;
  if(e.targetTouches.length<=2){
    if(touch_x>=pad_left_x&&touch_x<=pad_left_x+30){
      if(touch_y>=pad_left_y&&touch_y<=pad_left_y+30){
        touch_left = true;
      }
    }
    if(touch_x>=pad_right_x&&touch_x<=pad_right_x+30){
      if(touch_y>=pad_right_y&&touch_y<=pad_right_y+30){
        touch_right = true;
      }
    }
    if(touch_x>=pad_up_x&&touch_x<=pad_up_x+30){
      if(touch_y>=pad_up_y&&touch_y<=pad_up_y+30){
        touch_up = true;
      }
    }
    if(touch_x>=pad_down_x&&touch_x<=pad_down_x+30){
      if(touch_y>=pad_down_y&&touch_y<=pad_down_y+30){
        touch_down = true;
      }
    } 
  }
}
function touch_endH(){
    if(touch_x>=pad_left_x&&touch_x<=pad_left_x+30){
      if(touch_y>=pad_left_y&&touch_y<=pad_left_y+30){
        touch_left = false;
      }
    }
    else if(touch_x>=pad_right_x&&touch_x<=pad_right_x+30){
      if(touch_y>=pad_right_y&&touch_y<=pad_right_y+30){
        touch_right = false;
      }
    }
    else if(touch_x>=pad_up_x&&touch_x<=pad_up_x+30){
      if(touch_y>=pad_up_y&&touch_y<=pad_up_y+30){
        touch_up = false;
      }
    }
    if(touch_x>=pad_down_x&&touch_x<=pad_down_x+30){
      if(touch_y>=pad_down_y&&touch_y<=pad_down_y+30){
        touch_down = false;
      }
    } 
}



function pad(){
  ctx.beginPath();
  ctx.rect(pad_left_x,pad_left_y,40,40);
  ctx.fillStyle = 'white';
  ctx.fill();
  ctx.rect(pad_right_x,pad_right_y,40,40);
  ctx.fillStyle = 'white';
  ctx.fill();
  ctx.rect(pad_up_x,pad_up_y,40,40);
  ctx.fillStyle = 'white';
  ctx.fill();
  ctx.rect(pad_down_x,pad_down_y,40,40);
  ctx.fillStyle = 'white';
  ctx.fill();
  ctx.closePath();
}
var box_x = 100;
var box_y = 100;
var add_s = 1;
function box(){
	ctx.beginPath();
	ctx.rect(box_x,box_y,50,50);
	ctx.fillStyle="red";
	ctx.fill();
	ctx.closePath();
  if(touch_left==true){
    box_x -= add_s;
  }
  else if(touch_right==true){
    box_x += add_s;
  }
  else if(touch_up==true){
    box_y -= add_s;
  }
  else if(touch_down==true){
    box_y += add_s;
  }
}

function draw(){
	ctx.clearRect(0,0,canvas.width,canvas.height);
	box();
  pad();
}
setInterval(draw,10);
</script>

</body>
</html>